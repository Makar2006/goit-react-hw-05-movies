{"version":3,"file":"static/js/888.095806d1.chunk.js","mappings":"gMACA,GAAgB,QAAU,8BAA8B,QAAU,8BAA8B,UAAY,gCAAgC,OAAS,6BAA6B,UAAY,gCAAgC,KAAO,2BAA2B,QAAU,+B,4CCIpQA,EAAW,qCACXC,EAAU,mCAkFhB,MAhFA,WAAyB,IAAD,IACdC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAwCE,EAAAA,EAAAA,UAAS,CAAC,GAAlD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAgCF,EAAAA,EAAAA,UAAS,IAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAkCpD,OAhCAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,IAAA,UACUhB,EADV,YACsBE,GAAW,CAC7Be,OAAQ,CACNC,QAASjB,KAGZkB,MAAK,SAAAC,GACJd,EAAgBc,EAAKC,KACtB,IACAC,OAAM,SAAAC,GACLC,QAAQD,MAAM,6BAA8BA,EAC7C,IAEHP,EAAAA,EAAAA,IAAA,UACUhB,EADV,YACsBE,EADtB,WACwC,CACpCe,OAAQ,CACNC,QAASjB,KAGZkB,MAAK,SAAAC,GACAA,EAAKC,KAAKI,SAAWL,EAAKC,KAAKI,QAAQC,OAAS,GAClDlB,EAAY,kCAAD,OACyBY,EAAKC,KAAKI,QAAQ,GAAGE,WAG5D,IACAL,OAAM,SAAAC,GACLC,QAAQD,MAAM,6BAA8BA,EAC7C,GACJ,GAAE,CAACrB,KAGF,iCACE,SAAC,KAAD,CAAM0B,GAAIjB,EAAakB,QAASC,UAAWC,EAAAA,QAA3C,sBAGA,iBAAKD,UAAWC,EAAAA,OAAhB,WACE,wBAAK1B,EAAa2B,SAClB,gBACEC,IAAK1B,EACL2B,IAAK7B,EAAa2B,MAClBF,UAAWC,EAAAA,cAEb,eAAGD,UAAWC,EAAAA,WAAd,WACE,iBAAMD,UAAWC,EAAAA,KAAjB,yDADF,IAC8C1B,EAAa8B,iBAE3D,eAAGL,UAAWC,EAAAA,UAAd,WACE,iBAAMD,UAAWC,EAAAA,KAAjB,uCADF,IAC2C1B,EAAa+B,aAExD,gBAAIN,UAAWC,EAAAA,QAAf,WACE,eAAID,UAAWC,EAAAA,YAAf,UACE,SAAC,KAAD,CAAMH,GAAE,kBAAa1B,EAAb,SAA6B4B,UAAWC,EAAAA,QAAhD,qBAIF,eAAID,UAAWC,EAAAA,YAAf,UACE,SAAC,KAAD,CAAMH,GAAE,kBAAa1B,EAAb,YAAgC4B,UAAWC,EAAAA,UAAnD,8BAON,2BACE,SAAC,EAAAM,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,UAKT,C","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backBtn\":\"MovieDetails_backBtn__b0HiE\",\"castBtn\":\"MovieDetails_castBtn__IabvR\",\"reviewBtn\":\"MovieDetails_reviewBtn__Zmny5\",\"movDet\":\"MovieDetails_movDet__teHIg\",\"descriTxt\":\"MovieDetails_descriTxt__Ql0gn\",\"bold\":\"MovieDetails_bold__28Zca\",\"btnList\":\"MovieDetails_btnList__6Wj0Q\"};","import css from './MovieDetails.module.css';\nimport axios from 'axios';\nimport React, { useEffect, useState, Suspense, useRef } from 'react';\nimport { Outlet, useParams, Link, useLocation } from 'react-router-dom';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/movie';\nconst API_KEY = '1adabd4496cd17ddf47ee307481418a1';\n\nfunction MovieDetails() {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState({});\n  const [movieImg, setMovieImg] = useState('');\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    axios\n      .get(`${BASE_URL}/${movieId}`, {\n        params: {\n          api_key: API_KEY,\n        },\n      })\n      .then(resp => {\n        setMovieDetails(resp.data);\n      })\n      .catch(error => {\n        console.error('Ups, something went wrong:', error);\n      });\n\n    axios\n      .get(`${BASE_URL}/${movieId}/images`, {\n        params: {\n          api_key: API_KEY,\n        },\n      })\n      .then(resp => {\n        if (resp.data.posters && resp.data.posters.length > 0) {\n          setMovieImg(\n            `https://image.tmdb.org/t/p/w500${resp.data.posters[0].file_path}`\n          );\n        }\n      })\n      .catch(error => {\n        console.error('Ups, something went wrong:', error);\n      });\n  }, [movieId]);\n\n  return (\n    <>\n      <Link to={backLinkHref.current} className={css.backBtn}>\n        Go Back\n      </Link>\n      <div className={css.movDet}>\n        <h1>{movieDetails.title}</h1>\n        <img\n          src={movieImg}\n          alt={movieDetails.title}\n          className={css.imgDetails}\n        />\n        <p className={css.ratingText}>\n          <span className={css.bold}>Рейтинг:</span> {movieDetails.vote_average}\n        </p>\n        <p className={css.descriTxt}>\n          <span className={css.bold}>Опис:</span> {movieDetails.overview}\n        </p>\n        <ul className={css.btnList}>\n          <li className={css.btnListItem}>\n            <Link to={`/movies/${movieId}/cast`} className={css.castBtn}>\n              Cast\n            </Link>\n          </li>\n          <li className={css.btnListItem}>\n            <Link to={`/movies/${movieId}/reviews`} className={css.reviewBtn}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n\n      <main>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </main>\n    </>\n  );\n}\n\nexport default MovieDetails;\n"],"names":["BASE_URL","API_KEY","movieId","useParams","useState","movieDetails","setMovieDetails","movieImg","setMovieImg","location","useLocation","backLinkHref","useRef","state","from","useEffect","axios","params","api_key","then","resp","data","catch","error","console","posters","length","file_path","to","current","className","css","title","src","alt","vote_average","overview","Suspense","fallback"],"sourceRoot":""}